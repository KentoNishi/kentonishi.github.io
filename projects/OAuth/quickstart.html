
<script>
'use strict';

const {google} = require('googleapis');
const sampleClient = require('../sampleclient');

const blogger = google.blogger({
  version: 'v3',
  auth: sampleClient.oAuth2Client
});

async function runSample () {
  const res = await blogger.posts.insert({
    blogId: '6251236255042623982',
    requestBody: {
      title: 'Hello from the googleapis npm module!',
      content: 'Visit https://github.com/google/google-api-nodejs-client to learn more!'
    }
  });
  console.log(res.data);
  return res.data;
}

if (module === require.main) {
  const scopes = ['https://www.googleapis.com/auth/blogger'];
  sampleClient.authenticate(scopes)
    .then(runSample)
    .catch(console.error);
}

module.exports = {
  runSample,
  client: sampleClient.oAuth2Client
};
</script>
